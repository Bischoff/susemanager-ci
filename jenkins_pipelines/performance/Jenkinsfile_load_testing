#!/usr/bin/env groovy

// Configure the build properties
properties([
    buildDiscarder(logRotator(numToKeepStr: '500', daysToKeepStr: '4')),
    disableConcurrentBuilds(),
])

pipeline {
   // run only on specific hosts
    agent { label 'suse-manager-unit-tests' }
    stages {
        // Deploy or use infrastructure.
        stage('Deploy Locust node and suse-manager server') {
            steps {
                  // HACK: for the time beeing just run on refhost.
                  echo 'Deploy Locust'
                  }
        }
        // Run locust tests.
        stage('Run Locust tests') {
            steps {
                  echo 'Running locusts testss'
                  }
        }
    }
  post { 
        always { 
            cleanWs()
        }
    }
}
